<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>SB Minimarket</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <!-- Styles -->
    <link rel="stylesheet" href="../style.css" />

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
  </head>
  <body class="beranda">
    <!-- Header -->
    <nav class="navbar bg-warning mb-3" id="header">
      <div class="container d-flex justify-content-center">
        <a href="./index.html" class="logo navbar-brand">
          <img src="./assets/logo.png" alt="logo" style="width: 120px" />
        </a>
      </div>
    </nav>

    <!-- Nomor Pemesanan -->
    <div class="card m-3 shadow bg-body rounded flex-row">
      <div class="card-body">Pesanan No. <strong>#12004</strong></div>
      <div class="card-body d-flex justify-content-end">
        Kamis, 14 Juli 2022 || 20:49 WIB
      </div>
    </div>

    <!-- Content -->
    <div class="">
      <div class="row">
        <!--Category-->
        <div class="col-sm-8" style="margin-left: 20px">
          <div class="d-flex align-items-start">
            <div
              class="nav flex-column nav-pills me-5 card shadow-sm"
              style="
                padding-left: 10px;
                padding-top: 10px;
                padding-right: 20px;
                padding-bottom: 10px;
              "
              id="v-pills-tab"
              role="tablist"
              aria-orientation="vertical"
            >
              <button
                class="nav-link active"
                id="v-pills-sembako-tab"
                data-bs-toggle="pill"
                data-bs-target="#v-pills-sembako"
                type="button"
                role="tab"
                aria-controls="v-pills-sembako"
                aria-selected="true"
              >
                Sembako
              </button>
              <button
                class="nav-link"
                id="v-pills-peralatan-tab"
                data-bs-toggle="pill"
                data-bs-target="#v-pills-peralatan"
                type="button"
                role="tab"
                aria-controls="v-pills-peralatan"
                aria-selected="false"
              >
                Peralatan
              </button>
              <button
                class="nav-link"
                id="v-pills-kosmetik-tab"
                data-bs-toggle="pill"
                data-bs-target="#v-pills-kosmetik"
                type="button"
                role="tab"
                aria-controls="v-pills-kosmetik"
                aria-selected="false"
              >
                Kosmetik
              </button>
              <button
                class="nav-link"
                id="v-pills-cemilan-tab"
                data-bs-toggle="pill"
                data-bs-target="#v-pills-cemilan"
                type="button"
                role="tab"
                aria-controls="v-pills-cemilan"
                aria-selected="false"
              >
                Cemilan
              </button>
              <button
                class="nav-link"
                id="v-pills-sayuran-tab"
                data-bs-toggle="pill"
                data-bs-target="#v-pills-sayuran"
                type="button"
                role="tab"
                aria-controls="v-pills-sayuran"
                aria-selected="false"
              >
                Sayuran
              </button>
              <button
                class="nav-link"
                id="v-pills-mainan-tab"
                data-bs-toggle="pill"
                data-bs-target="#v-pills-mainan"
                type="button"
                role="tab"
                aria-controls="v-pills-mainan"
                aria-selected="false"
              >
                Mainan Anak
              </button>
              <button
                class="nav-link"
                id="v-pills-pakaian-tab"
                data-bs-toggle="pill"
                data-bs-target="#v-pills-pakaian"
                type="button"
                role="tab"
                aria-controls="v-pills-pakaian"
                aria-selected="false"
              >
                Pakaian
              </button>
              <button
                class="nav-link"
                id="v-pills-daging-tab"
                data-bs-toggle="pill"
                data-bs-target="#v-pills-daging"
                type="button"
                role="tab"
                aria-controls="v-pills-daging"
                aria-selected="false"
              >
                Daging
              </button>
            </div>
            <div class="tab-content" id="v-pills-tabContent">
              <!-- Sembako -->
              <div
                class="tab-pane fade show active"
                id="v-pills-sembako"
                role="tabpanel"
                aria-labelledby="v-pills-sembako-tab"
              >
                <div class="row row-cols-1 row-cols-md-3 g-4">
                  <div class="col">
                    <div
                      class="card"
                      onclick="orderbasket('Beras', 65.755, './assets/default.jpeg'); costitems(); tax();totalcost();"
                    >
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Beras</h5>
                        <p class="card-text text-danger">Rp 65.755 /5kg</p>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <div
                      class="card"
                      onclick="orderbasket('Minyak Goreng', 55.999, './assets/default.jpeg');costitems();tax();totalcost();"
                    >
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Minyak Goreng</h5>
                        <p class="card-text text-danger">Rp 55.999 /liter</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Peralatan -->
              <div
                class="tab-pane fade"
                id="v-pills-peralatan"
                role="tabpanel"
                aria-labelledby="v-pills-peralatan-tab"
              >
                <div class="row row-cols-1 row-cols-md-3 g-4">
                  <div class="col">
                    <div
                      class="card"
                      onclick="orderbasket('Sapu', 35.999, './assets/default.jpeg');costitems();tax();totalcost();"
                    >
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Sapu</h5>
                        <p class="card-text text-danger">Rp 35.999 /buah</p>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <div
                      class="card"
                      onclick="orderbasket('Ember', 20.999, './assets/default.jpeg');costitems();tax();totalcost();"
                    >
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Ember</h5>
                        <p class="card-text text-danger">Rp 20.999 /buah</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Kosmetik -->
              <div
                class="tab-pane fade"
                id="v-pills-kosmetik"
                role="tabpanel"
                aria-labelledby="v-pills-kosmetik-tab"
              >
                <div class="row row-cols-1 row-cols-md-3 g-4">
                  <div class="col">
                    <div class="card">
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Pembersih Wajah</h5>
                        <p class="card-text text-danger">Rp 37.900 /buah</p>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <div class="card">
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Kapas</h5>
                        <p class="card-text text-danger">Rp 22.500 /buah</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Cemilan -->
              <div
                class="tab-pane fade"
                id="v-pills-cemilan"
                role="tabpanel"
                aria-labelledby="v-pills-cemilan-tab"
              >
                <div class="row row-cols-1 row-cols-md-3 g-4">
                  <div class="col">
                    <div class="card">
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">QuSuka</h5>
                        <p class="card-text text-danger">Rp 12.900 /buah</p>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <div class="card">
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Biskuat</h5>
                        <p class="card-text text-danger">Rp 22.500 /buah</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Sayuran -->
              <div
                class="tab-pane fade"
                id="v-pills-sayuran"
                role="tabpanel"
                aria-labelledby="v-pills-sayuran-tab"
              >
                <div class="row row-cols-1 row-cols-md-3 g-4">
                  <div class="col">
                    <div class="card">
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Bayam</h5>
                        <p class="card-text text-danger">Rp 10.000 /250gr</p>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <div class="card">
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Kangkung</h5>
                        <p class="card-text text-danger">Rp 12.500 /250gr</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Mainan Anak -->
              <div
                class="tab-pane fade"
                id="v-pills-mainan"
                role="tabpanel"
                aria-labelledby="v-pills-mainan-tab"
              >
                <div class="row row-cols-1 row-cols-md-3 g-4">
                  <div class="col">
                    <div class="card">
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Kereta Api</h5>
                        <p class="card-text text-danger">Rp 230.000 /buah</p>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <div class="card">
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Truk</h5>
                        <p class="card-text text-danger">Rp 125.500 /buah</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Pakaian -->
              <div
                class="tab-pane fade"
                id="v-pills-pakaian"
                role="tabpanel"
                aria-labelledby="v-pills-pakaian-tab"
              >
                <div class="row row-cols-1 row-cols-md-3 g-4">
                  <div class="col">
                    <div class="card">
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Seragam SD</h5>
                        <p class="card-text text-danger">Rp 175.000 /pasang</p>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <div class="card">
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Seragam SMP</h5>
                        <p class="card-text text-danger">Rp 255.500 /pasang</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Daging -->
              <div
                class="tab-pane fade"
                id="v-pills-daging"
                role="tabpanel"
                aria-labelledby="v-pills-daging-tab"
              >
                <div class="row row-cols-1 row-cols-md-3 g-4">
                  <div class="col">
                    <div class="card">
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Ayam</h5>
                        <p class="card-text text-danger">Rp 35.000 /kg</p>
                      </div>
                    </div>
                  </div>
                  <div class="col">
                    <div class="card">
                      <img
                        draggable="false"
                        src="./assets/default.jpeg"
                        class="card-img-top"
                        alt="..."
                      />
                      <div class="card-body shadow">
                        <h5 class="card-title">Sotong</h5>
                        <p class="card-text text-danger">Rp 22.500 /kg</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--Total Pesanan-->
        <div class="col" style="margin-right: 20px">
          <div class="card">
            <div class="card-body shadow-sm">
              <h3><strong>Pesanan</strong></h3>
              <hr />
              <ul id="orderlist" class="list-unstyled"></ul>
              <!-- <div class="row">
                <img
                  src="./assets/default.jpeg"
                  alt="pesanan"
                  style="width: 75px"
                />
                <div class="col d-flex justify-content-end align-items-center">
                  <h6>Rp 0</h6>
                </div>
              </div> -->
              <hr />
              <div class="row">
                <div class="col"><h5>Subtotal</h5></div>
                <div
                  id="totalcost"
                  class="col d-flex justify-content-end"
                  style="font-size: 18px; font-weight: 500"
                >
                  <h5>Rp 0</h5>
                </div>
              </div>
              <div class="row">
                <div class="col"><h6 class="text-danger">Ppn 11%</h6></div>
                <div id="totaltax" class="col d-flex justify-content-end">
                  <h6 class="text-danger">Rp 0</h6>
                </div>
              </div>
              <hr />
              <div class="row">
                <div class="col"><h4>Total</h4></div>
                <div id="total" class="col d-flex justify-content-end">
                  <h4>Rp 0</h4>
                </div>
              </div>
            </div>
            <button type="button" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#exampleModal">
              <strong>BAYAR</strong>
            </button>

            <!-- Modal -->
            <div
              class="modal fade"
              id="exampleModal"
              tabindex="-1"
              aria-labelledby="exampleModalLabel"
              aria-hidden="true"
            >
              <div class="modal-dialog modal-lg">
                <div class="modal-content">
                  <div class="modal-body justify-content-center align-items-center ">
                        <img src="./assets/emot.jpeg" alt="" >
                    <h2 style="text-align: center;">Terima Kasih Telah Berbelanja di <strong>SB Minimarket</strong></h2>
                  </div>
                  <div class="modal-footer">
                    <button
                    onclick="orderbasketClear()"
                      type="button"
                      class="btn btn-warning"
                      data-bs-dismiss="modal"
                    >
                      Close
                    </button>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Script -->
    <script>
      const orderitemarray = [];
      const orderpricearray = [];
      const orderarray = [];

      function orderbasket(itemname, itemprice, itemimage) {
        orderitemarray.push(itemname);
        orderpricearray.push(itemprice);
        orderarray.push(itemname, itemprice, itemimage);
        // console.log(orderarray);
        // console.log(orderarray.length);

        let orderlist = document.getElementById("orderlist");

        //Create LI tag
        const orderitem = document.createElement("li");
        orderitem.className =
          "d-flex justify-content-between align-items-center";
        //create the text node
        const orderitemname = document.createTextNode(itemname);
        const orderitemprice = document.createTextNode(" Rp " + itemprice);

        //Create Image Tag
        const orderitemimgtag = document.createElement("img");

        //Set the src attribute of the image tag
        orderitemimgtag.src = itemimage;

        //classname w-25 for image
        orderitemimgtag.className =
          "w-25 rounded border border-warning mb-1 me-2";

        //
        const orderitemleftsidespan = document.createElement("span");

        //Append the image tag to the LI tag
        orderitemleftsidespan.appendChild(orderitemimgtag);

        //Attach LI Tag to the text node
        orderitemleftsidespan.appendChild(orderitemname);

        orderitem.appendChild(orderitemleftsidespan);

        orderitem.appendChild(orderitemprice);

        //Append or Attach teh LI tag (child) to parent (orderlist)
        orderlist.appendChild(orderitem);
      }

      //Function to calculate the subtotal price of the order
      function costitems() {

        if(orderpricearray.length === 0) {
            document.getElementById("totalcost").innerText = 0;
        }else{
            document.getElementById("totalcost").innerText =
              "Rp " + orderpricearray.reduce(sumarray).toFixed(3);
    
            function sumarray(total, num) {
              return total + num;
            }
        }
      }

      //function to calculate the total tax of the order
      function tax(){
        let tax = document.getElementById("totalcost").innerText.replace("Rp ", "");
        tax = tax * 0.11;
        document.getElementById("totaltax").innerText = "Rp " + tax.toFixed(3);
      }

      //function to calculate the total price of the order
      function totalcost(){
        let totalcost = document.getElementById("totalcost").innerText.replace("Rp ", "");
        let totaltax = document.getElementById("totaltax").innerText.replace("Rp ", "");
        totalcost = totalcost + totaltax;
        document.getElementById("total").innerText = "Rp " + totalcost.toFixed(3);
      }

      //Function Delete the all item from the orderlist
      function orderbasketClear(){
        let orderlist = document.getElementById("orderlist");
        orderlist.innerHTML = "";
        orderitemarray.length = 0;
        orderpricearray.length = 0;
        orderarray.length = 0;

        costitems();

      }

    </script>

    <!-- Script Bootstrap -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
